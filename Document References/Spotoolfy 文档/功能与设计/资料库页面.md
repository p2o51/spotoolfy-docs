# 资料库页面

资料库页面展示你最近播放的内容，提供 AI 音乐洞察，以及 Spotify 全局搜索功能。

## 轮播图

页面顶部的轮播图展示你最近播放的 15 个上下文（专辑或播放列表）。

### 显示内容
- 专辑或播放列表的封面图片
- 如果无法获取封面（如 Spotify 每日推荐），会用 Material Design 配色填充

### 交互操作
- **左右滑动**：浏览不同的专辑/播放列表
- **点击**：开始播放该上下文
- 轮播图支持视差滚动效果

### 数据来源
轮播图数据来自本地数据库记录，会在你播放音乐时自动更新。

## 洞察 (Insights)

AI 音乐洞察功能分析你最近播放的音乐，生成个性化的音乐人格和心情分析。

### 生成洞察
点击轮播图下方的 ✨ 按钮生成洞察：
- 需要配置 Google AI API Key
- 基于最近播放的上下文进行分析
- 分析结果会缓存，下次打开自动显示

### 洞察内容

#### 音乐人格
一个简短的标签描述你的音乐品味，例如：
- 「深夜爵士漫游者」
- 「怀旧摇滚收藏家」
- 「电子舞曲探索者」

#### 心情分析
基于你最近听的音乐，AI 会给出一段分析文字，描述：
- 你可能的心情状态
- 音乐选择的特点
- 聆听习惯的观察

请放心，Gemini 不会对你听的音乐做出任何负面评价。

#### 歌曲推荐
AI 会推荐一些你可能喜欢的歌曲：
- 点击推荐歌曲会自动搜索
- 基于你的听歌习惯智能推荐

### 洞察操作
- **展开/收起**：点击展开按钮查看完整洞察
- **重新生成**：点击 ✨ 按钮刷新洞察
- **长按复制**：长按音乐人格或心情分析可以复制文字

## 搜索

页面中部的搜索栏支持 Spotify 全局搜索。

### 搜索功能
1. 点击搜索栏或输入关键词
2. 按回车或点击搜索提交
3. 搜索结果分类显示：
   - **歌曲**：匹配的音轨
   - **专辑**：匹配的专辑
   - **艺术家**：匹配的歌手/乐队
   - **播放列表**：匹配的播放列表

### 搜索结果操作

#### 歌曲
- **点击**：立即播放
- **长按**：查看更多选项（添加到队列等）

#### 专辑
- **点击**：进入专辑详情页
- 专辑页面显示：
  - 专辑封面和信息
  - 完整曲目列表
  - 播放整张专辑

#### 艺术家
- **点击**：进入艺术家详情页
- 艺术家页面显示：
  - 热门歌曲
  - 专辑列表
  - 相关艺术家

#### 播放列表
- **点击**：进入播放列表详情页
- **长按**：直接播放

### 清除搜索
- 点击搜索栏右侧的 ✕ 按钮清除搜索
- 清除后返回轮播图和洞察界面

## 资料库内容

当没有进行搜索时，页面会显示你的 Spotify 资料库内容：

### 播放列表
显示你保存的播放列表，点击进入详情页。

### 专辑
显示你保存的专辑，点击查看专辑详情和曲目。

### 刷新
下拉页面可以刷新资料库内容，同步最新的 Spotify 数据。

## 响应式布局

资料库页面根据屏幕宽度自动调整布局：
- **窄屏**（手机）：单列显示，搜索结果垂直排列
- **宽屏**（平板/桌面）：多列网格显示，搜索结果并排展示

最大内容宽度限制为 1200px，确保在超宽屏幕上也有良好的阅读体验。
