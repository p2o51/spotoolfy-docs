---
sidebar_position: 3
---

# ライブラリページ

ライブラリページは最近再生したコンテンツを表示し、AI音楽インサイトとSpotifyグローバル検索機能を提供します。

## カルーセル

ページ上部のカルーセルは最近再生した15個のコンテキスト（アルバムまたはプレイリスト）を表示します。

### 表示内容
- アルバムまたはプレイリストのカバー画像
- カバーを取得できない場合（Spotify Daily Mixなど）、Material Designの色で塗りつぶし

### インタラクション
- **左右スワイプ**：異なるアルバム/プレイリストを閲覧
- **タップ**：そのコンテキストの再生を開始
- カルーセルはパララックススクロール効果をサポート

### データソース
カルーセルデータはローカルデータベースレコードから取得され、音楽を再生すると自動的に更新されます。

## インサイト

AI音楽インサイト機能は最近再生した音楽を分析し、パーソナライズされた音楽パーソナリティとムード分析を生成します。

### インサイト生成
カルーセル下の ✨ ボタンをタップしてインサイトを生成：
- Google AI API Keyの設定が必要
- 最近再生したコンテキストに基づいて分析
- 分析結果はキャッシュされ、次回開くと自動的に表示

### インサイト内容

#### 音楽パーソナリティ
あなたの音楽の好みを説明する短いタグ、例えば：
- 「深夜ジャズワンダラー」
- 「ノスタルジックロックコレクター」
- 「エレクトロニックダンスエクスプローラー」

#### ムード分析
最近聴いた音楽に基づいて、AIが分析を提供：
- あなたの可能性のあるムード状態
- 音楽選択の特徴
- リスニング習慣の観察

ご安心ください、Geminiはあなたの音楽について否定的な判断をしません。

#### 曲のおすすめ
AIがあなたが好きかもしれない曲をおすすめ：
- おすすめの曲をタップすると自動検索
- リスニング習慣に基づいてスマートにおすすめ

### インサイト操作
- **展開/折りたたみ**：展開ボタンをタップして完全なインサイトを表示
- **再生成**：✨ ボタンをタップしてインサイトをリフレッシュ
- **長押しでコピー**：音楽パーソナリティやムード分析を長押しでテキストをコピー

## 検索

ページ中央の検索バーはSpotifyグローバル検索をサポートします。

### 検索機能
1. 検索バーをタップまたはキーワードを入力
2. Enterを押すか検索をタップして送信
3. 検索結果はカテゴリ別に表示：
   - **トラック**：マッチした曲
   - **アルバム**：マッチしたアルバム
   - **アーティスト**：マッチしたアーティスト/バンド
   - **プレイリスト**：マッチしたプレイリスト

### 検索結果の操作

#### トラック
- **タップ**：即座に再生
- **長押し**：その他のオプションを表示（キューに追加など）

#### アルバム
- **タップ**：アルバム詳細ページに入る
- アルバムページに表示：
  - アルバムカバーと情報
  - 完全なトラックリスト
  - アルバム全体を再生

#### アーティスト
- **タップ**：アーティスト詳細ページに入る
- アーティストページに表示：
  - 人気曲
  - アルバムリスト
  - 関連アーティスト

#### プレイリスト
- **タップ**：プレイリスト詳細ページに入る
- **長押し**：直接再生

### 検索クリア
- 検索バー右側の ✕ ボタンをタップして検索をクリア
- クリア後、カルーセルとインサイトインターフェースに戻る

## ライブラリコンテンツ

検索していない時、ページはSpotifyライブラリコンテンツを表示：

### プレイリスト
保存したプレイリストを表示、タップで詳細ページに入る。

### アルバム
保存したアルバムを表示、タップでアルバム詳細とトラックを表示。

### リフレッシュ
ページを下に引いてライブラリコンテンツをリフレッシュし、最新のSpotifyデータを同期。

## レスポンシブレイアウト

ライブラリページは画面幅に基づいて自動的にレイアウトを調整：
- **狭い画面**（スマートフォン）：単一カラム表示、検索結果は垂直配置
- **広い画面**（タブレット/デスクトップ）：マルチカラムグリッド表示、検索結果は並列表示

最大コンテンツ幅は1200pxに制限され、超ワイド画面でも良好な読み取り体験を確保。
